{% extends 'layout.html' %}

{% block content %}
<div id="app">
        <div class="contentwen container">


        <form v-on:submit.prevent="sendQuestion" style="margin-top: 20px;">

            <div class="input-group" style="width: 100%; margin-bottom: 20px;">
              <i style="font-style: normal;display: block; float: left;width: 10%; line-height: 30px;">请输入问题：</i><input type="text" class="form-control"  id="title" style="float: left; width: 90%;">
            </div>
            <textarea name="content" id="content" rows="20" cols="80">

            </textarea>
            <i class="wenzi">分享你的真实观点和经验，通过汇编、洗稿的等方式拼凑的回答将会被折叠</i>
            <button  class="btn btn-primary" style="float: right"> 确认回答 </button>
        </form>
        </div>
</div>
{% endblock %}


{% block externjs %}

    <script src="/ckeditor/ckeditor.js"></script>


    <script>


        $(document).ready(function () {
              var myVue = new Vue({
                el: '#app',

                methods: {

                    sendQuestion () {

                      var content1 =  CKEDITOR.instances.content.getData();
                      var title1 = $('#title').val();
                      var that = this
                      $.ajax({
                          type:"POST",
                          url:"/zlj/newquestion",
                          data:{
                            title:title1,
                            content: content1
                            },
                        success:function(data){
                            if (data.code == 0){
                                window.location.replace("/zlj/index.html")
                            }
                        }
                      }) //ajax

                    }, //sendQuestion
                }, //methods
              });// Vue
              CKEDITOR.replace( 'content' ,{

              });
        }) //document
            // Replace the <textarea id="editor1"> with a CKEditor
            // instance, using default configuration.


    </script>
{% endblock %}
